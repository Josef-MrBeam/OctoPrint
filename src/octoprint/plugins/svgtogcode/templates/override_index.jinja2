<!DOCTYPE html>
<html>
    <head>
        <title data-bind="text: title">Mr Beam</title>

        <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.png') }}">
        <link rel="apple-touch-icon" sizes="114x114" href="{{ url_for('static', filename='img/apple-touch-icon-114x114.png') }}">
        <link rel="apple-touch-icon" sizes="144x144" href="{{ url_for('static', filename='img/apple-touch-icon-144x144.png') }}">

        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/bootstrap-modal.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/bootstrap-slider.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/jquery.fileupload-ui.css') }}" rel="stylesheet" media="screen">
        <link href="{{ url_for('static', filename='css/pnotify.min.css') }}" rel="stylesheet" media="screen">

        {% if stylesheet == "less" %}
			<!--<link href="{{ url_for('static', filename='less/octoprint.less') }}" rel="stylesheet/less" type="text/css" media="screen">-->
			<link href="{{ url_for('static', filename='less/mrbeam.less') }}" rel="stylesheet/less" type="text/css" media="screen">

			<!-- Plugin files -->
			{% for name, assets in assetPlugins.items() %}
				{% if "less" in assets %}
					{% for asset in assets["less"] %}
					<link href="{{ url_for('plugin_assets', name=name, filename=asset) }}" rel="stylesheet/less" type="text/css" media="screen">
					{% endfor %}
				{% endif %}
			{% endfor %}
			<!-- /Plugin files -->

			<script src="{{ url_for('static', filename='js/lib/less.min.js') }}" type="text/javascript"></script>
        {% else %}
			<!--<link href="{{ url_for('static', filename='css/octoprint.css') }}" rel="stylesheet" type="text/css" media="screen">-->
			<link href="{{ url_for('static', filename='css/mrbeam.css') }}" rel="stylesheet" media="screen">
			<!-- Plugin files -->
			{% for name, assets in assetPlugins.items() %}
				{% if "css" in assets %}
					{% for asset in assets["css"] %}
					<link href="{{ url_for('plugin_assets', name=name, filename=asset) }}" rel="stylesheet" type="text/css" media="screen">
					{% endfor %}
				{% endif %}
			{% endfor %}
			<!-- /Plugin files -->
        {% endif %}

        <script type="text/javascript" >
		var BASEURL = "{{ url_for('index') }}";
		var API_BASEURL = BASEURL + "api/";
		var GCODE_WORKER = "{{ url_for('static', filename='gcodeviewer/js/Worker.js') }}";
		var CONFIG_GCODEFILESPERPAGE = 5000;
		var CONFIG_TIMELAPSEFILESPERPAGE = 10;
		var CONFIG_LOGFILESPERPAGE = 10;
		var CONFIG_USERSPERPAGE = 10;
		var CONFIG_WEBCAM_STREAM = "{{ webcamStream }}";
		var CONFIG_ACCESS_CONTROL = {% if enableAccessControl -%} true; {% else %} false; {%- endif %}
		var CONFIG_SD_SUPPORT = {% if enableSdSupport -%} true; {% else %} false; {%- endif %}
		var CONFIG_FIRST_RUN = {% if firstRun -%} true; {% else %} false; {%- endif %}
		var CONFIG_TEMPERATURE_GRAPH = {% if enableTemperatureGraph -%} true; {% else %} false; {%- endif %}
		var CONFIG_GCODE_SIZE_THRESHOLD = {{ gcodeThreshold }};
		var CONFIG_GCODE_MOBILE_SIZE_THRESHOLD = {{ gcodeMobileThreshold }};
		var SOCKJS_URI = window.location.protocol.slice(0, - 1) + "://" + (window.document ? window.document.domain : window.location.hostname) + ":" + window.location.port + BASEURL + "sockjs";
		var SOCKJS_DEBUG = {% if debug -%} true; {% else %} false; {%- endif %}

var UI_API_KEY = "{{ uiApiKey }}";
		var VERSION = "{{ version }}";
		var DISPLAY_VERSION = "{{ display_version }}";
		var LOCALE = "{{ g.locale }}";
		var ADDITIONAL_VIEWMODELS = [];		</script>
    </head>
    <body>
		<div class="container octoprint-container">
		<nav class="navbar navbar-default" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header brand" style="min-width: 272px;">
					<a class="navbar-brand" href="#">
						<img alt="Mr Beam Logo" src="{{ url_for('static', filename='img/mr-typo-red_x120.png') }}">
					</a>
				</div>
				<ul class="nav nav-pills">
					<li class="active"><a href="#workingarea" data-toggle="tab">working area</a></li>
					<!--<li><a href="#designlib" data-toggle="tab">design library</a></li>-->
					<li><a href="#focus" data-toggle="tab">focus</a></li>
					<li><a href="#term" data-toggle="tab">terminal</a></li>
					<li xstyle="display: none;" xdata-bind="visible: loginState.isAdmin">
						<a id="navbar_show_settings" class="pull-right" href="#settings" data-toggle="tab"><i class="icon-gear"></i></a>
					</li>
				</ul>
				<ul class="nav pull-right">
					{% if enableSystemMenu %}
					<li class="dropdown" style="display: none" data-bind="visible: loginState.isAdmin">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="icon-off"></i> {{ _('System') }}
							<b class="caret"></b>
						</a>
						<ul class="dropdown-menu" data-bind="foreach: systemActions">
							<li><a href="#" data-bind="click: $root.triggerAction, text: name"></a></li>
						</ul>
					</li>
					{% endif %}
					{% if enableAccessControl %}
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="icon-user"></i> <span data-bind="text: loginState.userMenuText">{{ _('Login') }}</span>
							<b class="caret"></b>
						</a>
						<div id="login_dropdown_loggedout" style="padding: 15px" class="dropdown-menu" data-bind="css: {hide: loginState.loggedIn(), 'dropdown-menu': !loginState.loggedIn()}">
							<label for="login_user">{{ _('Username') }}</label>
							<input type="text" id="login_user" placeholder="{{ _('Username') }}" autocapitalize="none">
							<label for="login_pass">{{ _('Password') }}</label>
							<input type="password" id="login_pass" placeholder="{{ _('Password') }}">
							<label class="checkbox">
								<input type="checkbox" id="login_remember"> {{ _('Remember me') }}
							</label>
							<button class="btn btn-block btn-primary" id="login_button" data-bind="click: loginState.login">{{ _('Login') }}</button>
						</div>
						<ul id="login_dropdown_loggedin" class="hide" data-bind="css: {hide: !loginState.loggedIn(), 'dropdown-menu': loginState.loggedIn()}">
							<li><a href="#" id="change_password_button" data-bind="click: function() { users.showChangePasswordDialog(loginState.currentUser()); }">{{ _('Change Password') }}</a></li>
							<li><a href="#" id="logout_button" data-bind="click: loginState.logout">{{ _('Logout') }}</a></li>
						</ul>
					</li>
					{% endif %}
				</ul>
			</div>
		</nav>

		<div class="span12 tabbable" id="mrbeam-tabs">
			<div class="tab-content">
				<div class="tab-pane active" id="workingarea">
					<div class="container-fluid">
						<div class="row-fluid">
							<div class="span4 accordion">

								<div class="accordion-group" id="state_accordion">
									<div class="accordion-heading">
										<a class="accordion-toggle" data-toggle="collapse" href="#statusbox"><i class="icon-info-sign"></i> {{ _('State') }}</a>
									</div>
									<div id="statusbox">
										
									<div id="control" class="accordion-inner" >
										{{ _('Position') }}: <strong data-bind="text: laserPos"></strong>
										<a href="#control_btns" style="margin-top: -5px;"
										   class="btn btn-xs pull-right"  
										   data-toggle="collapse" aria-expanded="false">
											<i class="icon-move sr-only"></i>
											<span class="caret"></span>
										</a>

										<div class="clearfix"></div>
										<div class="collapse" id="control_btns">
											<div class="jog-panel" id="control_xyaxis">
												XY-Axes
												<div>
													<button class="btn box" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('y',1) }"><i class="icon-arrow-up"></i></button>
												</div>
												<div>
													<button class="btn box pull-left" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('x',-1) }"><i class="icon-arrow-left"></i></button>
													<button class="btn box pull-left" data-bind="enable: (isOperational() || isLocked()) && !isPrinting() && loginState.isUser(), click: function() { $root.sendHomeCommand(['x', 'y']) }"><i class="icon-home"></i></button>
													<button class="btn box pull-left" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('x',1) }"><i class="icon-arrow-right"></i></button>
												</div>
												<div>
													<button class="btn box" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('y',-1) }"><i class="icon-arrow-down"></i></button>
												</div>
											</div>
											{% if hasZAxis %}
										   <div class="jog-panel" id="control_zaxis">
											   Z-Axis
											   <div class="btn-group-vertical" role="group" aria-label="z-axis control">
												  <button class="btn xbox" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('z',1) }"><i class="icon-arrow-up"></i></button>
											      <!--<button class="btn box" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendHomeCommand(['z']) }"><i class="icon-home"></i></button>-->
											      <button class="btn xbox" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('z',-1) }"><i class="icon-arrow-down"></i></button>
											   </div>
										   </div>
											{% endif %}

											<div class="clearfix"></div>
											Jog distance: <span data-bind="text: jogDistanceInMM">10</span>mm
											<div class="distance">
												<input type="text" id="jogDistance" />
											</div>
										</div>
									</div>
									
									<div class="accordion-body collapse in" id="connection" data-bind="visible: isErrorOrClosed() && loginState.isUser()">
										<div class="accordion-inner">
											<label for="connection_ports" data-bind="css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()">{{ _('Serial Port') }}</label>
											<select id="connection_ports" data-bind="options: portOptions, optionsCaption: 'AUTO', value: selectedPort, css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()"></select>
											<label for="connection_baudrates" data-bind="css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()">{{ _('Baudrate') }}</label>
											<select id="connection_baudrates" data-bind="options: baudrateOptions, optionsCaption: 'AUTO', value: selectedBaudrate, css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()"></select>
											<label class="checkbox">
												<input type="checkbox" id="connection_save" data-bind="checked: saveSettings, css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()"> {{ _('Save connection settings') }}
											</label>
											<label class="checkbox">
												<input type="checkbox" id="connection_autoconnect" data-bind="checked: settings.serial_autoconnect, css: {disabled: !isErrorOrClosed()}, enable: isErrorOrClosed() && loginState.isUser()"> {{ _('Auto-connect on server startup') }}
											</label>
											<button class="btn btn-block" id="printer_connect" data-bind="click: connect, text: buttonText(), enable: loginState.isUser()">{{ _('Connect') }}</button>
										</div>
									</div>
									<div class="accordion-body collapse in" id="state" data-bind="visible: !isErrorOrClosed() && loginState.isUser()">
										<div class="accordion-inner">
											{{ _('Machine State') }}: <strong data-bind="text: stateString"></strong><br>
											{{ _('File') }}: <strong data-bind="text: filename"></strong>&nbsp;<strong data-bind="visible: sd">(SD)</strong><br>
											<!--                                {{ _('Timelapse') }}: <strong data-bind="text: timelapseString"></strong><br>-->
											<!-- ko foreach: filament -->
											<!--<span data-bind="text: 'Filament (' + name() + '): '"></span><strong data-bind="text: formatFilament(data())"></strong><br>-->
											<!-- /ko -->
											{{ _('Approx. Total Job Time') }}: <strong data-bind="text: estimatedPrintTimeString"></strong><br>
											<!--                                {{ _('Print Time') }}: <strong data-bind="text: printTimeString"></strong><br>
																			{{ _('Print Time Left') }}: <strong data-bind="text: printTimeLeftString"></strong><br>-->
											{{ _('Processed') }}: <strong data-bind="text: byteString"></strong><br>

											<div class="progress">
												<div class="bar" id="job_progressBar" data-bind="style: { width: progressString() + '%' }"></div>
											</div>

											<div class="row-fluid print-control" style="display: none;" data-bind="visible: loginState.isUser">
												<button class="btn btn-danger span4" data-bind="click: print_with_safety_glasses_warning, enable: isOperational() && isReady() && !isPrinting() && loginState.isUser(), attr: {title: titlePrintButton}" id="job_print">
													<i class="icon-white" data-bind="css: {'icon-fire': !isPaused(), 'icon-undo': isPaused(), 'wobble': isPrinting()}"></i> <span data-bind="text: (isPaused() ? '{{ _('Restart') }}' : '{{ _('Laser') }}')">{{ _('Laser') }}</span>
												</button>
												<button class="btn span4" id="job_pause" data-bind="click: pause, enable: isOperational() && (isPrinting() || isPaused()) && loginState.isUser(), css: {active: isPaused()}, attr: {title: titlePauseButton}"><i data-bind="css: {'icon-pause': !isPaused(), 'icon-play': isPaused()}"></i> <span data-bind="visible: !isPaused()">{{ _('Pause') }}</span><span data-bind="visible: isPaused()">{{ _('Resume') }}</span></button>
												<button class="btn span4" id="job_cancel" data-bind="click: cancel, enable: isOperational() && (isPrinting() || isPaused()) && loginState.isUser()" title="{{ _('Cancels the job') }}"><i class="icon-stop"></i> {{ _('Cancel') }}</button>
											</div>
										</div>
									</div>
								</div>
			
								</div>


																
								<div data-bind="visible: loginState.isUser" id="connection_accordion"></div>

								<div class="accordion-group" id="files_accordion">
									<div class="">
										<div class="accordion-heading">
											<a class="accordion-toggle" data-toggle="collapse" href="#files"><i class="icon-list"></i> {{ _('Files') }}</a>
										</div>
										
										<div class="settings-trigger accordion-heading-button btn-group" style="display: none;">
											<a class="dropdown-toggle" data-toggle="dropdown" href="#">
												<span class="icon-wrench"></span>
											</a>
											<ul class="dropdown-menu">
												<li><a href="#" data-bind="click: function() { $root.listHelper.changeSorting('name'); }"><i class="icon-ok" data-bind="style: {visibility: listHelper.currentSorting() == 'name' ? 'visible' : 'hidden'}"></i> {{ _('Sort by name') }} ({{ _('ascending') }})</a></li>
												<li><a href="#" data-bind="click: function() { $root.listHelper.changeSorting('upload'); }"><i class="icon-ok" data-bind="style: {visibility: listHelper.currentSorting() == 'upload' ? 'visible' : 'hidden'}"></i> {{ _('Sort by upload date') }} ({{ _('descending') }})</a></li>
												<li><a href="#" data-bind="click: function() { $root.listHelper.changeSorting('size'); }"><i class="icon-ok" data-bind="style: {visibility: listHelper.currentSorting() == 'size' ? 'visible' : 'hidden'}"></i> {{ _('Sort by file size') }} ({{ _('descending') }})</a></li>
												<li class="divider"></li>
												<li><a href="#" data-bind="click: function() { $root.listHelper.toggleFilter('machinecode'); }"><i class="icon-ok" data-bind="style: {visibility: _.contains(listHelper.currentFilters(), 'machinecode') ? 'visible' : 'hidden'}"></i> {{ _('Only show GCode files') }}</a></li>
												<li><a href="#" data-bind="click: function() { $root.listHelper.toggleFilter('model'); }"><i class="icon-ok" data-bind="style: {visibility: _.contains(listHelper.currentFilters(), 'model') ? 'visible' : 'hidden'}"></i> {{ _('Only show STL files') }}</a></li>
												<li class="divider"></li>
											</ul>
										</div>

									</div>
									<div class="accordion-body collapse in overflow_visible" id="files">
										<div class="accordion-inner">
											<form class="form-search">
												<input type="text" class="input-block search-query" data-bind="value: searchQuery, valueUpdate: 'input'" placeholder="{{ _('Search...') }}">
											</form>
											<div class="gcode_files" data-bind="slimScrolledForeach: listHelper.paginatedItems">
												<div class="entry" data-bind="attr: { id: $root.getEntryId($data) }, template: { name: $root.templateFor($data), data: $data }"></div>

												<script type="text/html" id="files_template_machinecode">
													<div class="file_list_entry">
														<div class="title" data-bind="css: $root.getSuccessClass($data), style: { 'font-weight': $root.listHelper.isSelected($data) ? 'bold' : 'normal' }, text: name"></div>
														<div class="uploaded">{{ _('Uploaded') }}: <span data-bind="text: formatTimeAgo(date)"></span></div>
														<div class="size">{{ _('Size') }}: <span data-bind="text: formatSize(size)"></span></div>
														<div class="additionalInfo hide" data-bind="html: $root.getAdditionalData($data)"></div>
														<div class="btn-group action-buttons">
															<!--<div class="btn btn-mini toggleAdditionalData" data-bind="click: function() { if ($root.enableAdditionalData($data)) { $root.toggleAdditionalData($data); } else { return; } }, css: { disabled: !$root.enableAdditionalData($data) }"><i class="icon-chevron-down"></i></div>-->
															<a class="btn btn-mini" data-bind="attr: {href: $root.downloadLink($data), css: {disabled: !$root.downloadLink($data)}}"><i class="icon-download-alt" title="{{ _('Download') }}"></i></a>
															<div class="btn btn-mini" data-bind="click: function() { if ($root.enableRemove($data)) { $root.removeFile($data); } else { return; } }, css: {disabled: !$root.enableRemove($data)}"><i class="icon-trash" title="{{ _('Remove') }}"></i></div>
															<div class="btn btn-mini" data-bind="click: function() { if ($root.enableSelect($data)) { $root.loadFile($data, false); } else { return; } }, css: {disabled: !$root.enableSelect($data)}"><i class="icon-folder-open" title="{{ _('Load') }}"></i></div>
															<div class="btn btn-mini"  data-bind="click: function() { if ($root.enableSelect($data)) { $root.loadFile($data, true); } else { return; } }, css: {disabled: !$root.enableSelect($data)}"><i class="icon-fire" title="{{ _('Load and Laser') }}"></i></div>
															<div class="btn btn-mini"  data-bind="click: function() { $root.showFile($data); }"><i class="icon-arrow-right" title="{{ _('Preview') }}"></i></div>
														</div>
													</div>
												</script>

												<script type="text/html" id="files_template_model_svg">
													<div class="file_list_entry">
														<div class="title muted" data-bind="text: name"></div>
														<div class="uploaded">{{ _('Uploaded') }}: <span data-bind="text: formatTimeAgo(date)"></span></div>
														<div class="size">{{ _('Size') }}: <span data-bind="text: formatSize(size)"></span></div>
														<div class="btn-group action-buttons">
															<div class="btn btn-mini" data-bind="click: function() { if ($root.enableRemove($data)) { $root.removeFile($data); } else { return; } }, css: {disabled: !$root.enableRemove($data)}"><i class="icon-trash" title="{{ _('Remove') }}"></i></div>
															<div class="btn btn-mini" data-bind="click: function() { $root.convertSVG($data); }, css: {disabled: !$root.enableSVGConversion($data)}"><i class="icon-play" title="{{ _('Convert to Laserpath') }}"></i></div>
															<div class="btn btn-mini" data-bind="click: function() { $root.placeSVG($data); }, css: {disabled: !$root.enableSVGConversion($data)}"><i class="icon-arrow-right" title="{{ _('Use') }}"></i></div>
														</div>
													</div>
												</script>

												<script type="text/html" id="files_template_folder">
													<div class="title" data-bind="text: name"></div>
												</script>
											</div>
											<div class="muted text-right">
												<small>{{ _('Free') }}: <span data-bind="text: freeSpaceString"></span></small>
											</div>
											<div style="display: none;" data-bind="visible: loginState.isUser">
												<div class="row-fluid upload-buttons">

													<span class="btn btn-primary fileinput-button span12" data-bind="css: {disabled: !$root.loginState.isUser()}" style="margin-bottom: 10px">
														<i class="icon-upload-alt icon-white"></i>
														<span>{{ _('Upload') }}</span>
														<input id="gcode_upload" type="file" name="file" class="fileinput-button" data-bind="enable: loginState.isUser()">
													</span>
												</div>
												<div id="gcode_upload_progress" class="progress" style="width: 100%;">
													<div class="bar" style="width: 0%"></div>
												</div>
												<div>
													<small>{{ _('Hint: You can also drag and drop files on this page to upload them.') }}</small>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="span8">
								<svg id="area_preview" class="workingarea" 
									 data-bind="click: move_laser, 
										style: {
											backgroundPosition: crosshairX()+'px'+' '+crosshairY()+'px',
											width: workingAreaWidth()+'px',
											height: workingAreaHeight()+'px'
										},
										attr: { transform: scaleMatrix() }
									 ">
								<g id="scaleGroup" data-bind="attr: { transform: scaleMatrix() }"></g>
								</svg>
								
<!--								<div class="jumbotron">
									<canvas id="renderPathCanvas" style="border: none;" width="512" height="512"></canvas>

									<input id="timeSlider" type="text" data-slider-min="0" data-slider-max="1000" data-slider-step="1" data-slider-value="1000" />

								</div>-->

							</div>
						</div>
					</div>
				</div>
				<div class="tab-pane" id="term">
					
					<div class="container-fluid">
						<div class="row-fluid">
							<div class="span4 accordion">
								
								<label class="checkbox">
									<input type="checkbox" id="terminal-autoscroll" data-bind="checked: autoscrollEnabled"> {{ _('Autoscroll') }}
								</label>
								<div data-bind="foreach: filters">
									<label class="checkbox">
										<input type="checkbox" data-bind="attr: { value: regex }, checked: $parent.activeFilters"> <span data-bind="text: name"></span>
									</label>
								</div>
							</div>
							<div class="span8 ">
								
								<pre id="terminal-output" class="pre-scrollable"></pre>
								<div class="input-append" style="display: none;" data-bind="visible: loginState.isUser">
									<input type="text" id="terminal-command" style="width:88%;" data-bind="value: command, event: { keyup: function(d,e) { return handleKeyUp(e); }, keydown: function(d,e) { return handleKeyDown(e); } }, enable: isOperational() && loginState.isUser()">
									<button class="btn" type="button" id="terminal-send" data-bind="click: sendCommand, enable: isOperational() && loginState.isUser()">{{ _('Send') }}</button>
								</div>
							</div>

						</div>
					</div>
				</div>
				
				<div class="tab-pane" id="designlib">
					<div class="container-fluid">
						<div class="row-fluid">
							<div class="span2">
								<ul>
									<li>item</li>
									<li>item</li>
									<li>item</li>
									<li>item</li>
								</ul>
								<button>Use design</button>
							</div>
							<div class="span10">
								<div class="designlib" > preview </div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="tab-pane" id="focus">
					<div class="container-fluid">
						<div class="row-fluid">
							<div class="span4">
								<ul>
									<li>Place your material on the working area</li>
									<li>Move the laser over the material</li>
									<li>Put on your safety glasses</li>
									<li>Enable the focus mode</li>
									<li>Adjust the focus until the laser beam is as small as possible</li>
									<li>Disable the focus mode. You can take off the safety glasses afterwards</li>
								</ul>
								<div style="text-align:center">
								<div class="btn-group" role="group" aria-label="focus mode control" style="">
									<button id="btn_focus_on" class="btn btn-danger" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: focus_on ">{{ _('Enable Focus') }}</button>
									<button id="btn_focus_off" class="btn btn-default" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: focus_off ">{{ _('Disable Focus') }}</button>
								</div>
								</div>
								{% if hasZAxis %}
								<div style="text-align:center">
								<div class="jog-panel" id="control_zaxis">
									
									Z-Axis
									<div class="btn-group-vertical" role="group" aria-label="z-axis control">
										<button class="btn box" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('z',1) }"><i class="icon-arrow-up"></i></button>
										<button class="btn box" data-bind="enable: isOperational() && !isPrinting() && loginState.isUser(), click: function() { $root.sendJogCommand('z',-1) }"><i class="icon-arrow-down"></i></button>
									</div>
								</div>
								</div>
								{% endif %}

							</div>
							<div class="span8">
								<div class="focus" > images describing the process </div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="tab-pane" id="settings">
					<div class="container-fluid">
						<div class="row-fluid">

							<div class="settings" >
								{% include 'settings_mrbeam.jinja2' %}
							</div>

						</div>
					</div>
				</div>
				
			</div>


					</div>
					<!------->

					<!------>
					
						<footer class="footer">
							<ul class="pull-left muted">
								<li><small>{{ _('Version') }}: <span class="version">{{ display_version }}</span></small></li>
							</ul>
							<ul class="pull-right">
								<li><a href="http://www.mr-beam.org" target="_blank"><i class="icon-home"></i> {{ _('Homepage') }}</a></li>
								<li><a href="https://github.com/mrbeam/OctoPrint/" target="_blank"><i class="icon-download"></i> {{ _('Sourcecode') }}</a></li>
								<li><a href="https://wiki.mr-beam.org" target="_blank"><i class="icon-book"></i> {{ _('Documentation') }}</a></li>
								<li><a href="https://github.com/mrbeam/OctoPrint/issues" target="_blank"><i class="icon-flag"></i> {{ _('Bugs and Requests') }}</a></li>
							</ul>
						</footer>
					</div>


					{% include 'dialogs.jinja2' %}

					<!-- Plugin template files -->
					{%  if templatePlugins %}
					{% for plugin_name in templatePlugins %}
					{% include plugin_name+".jinja2" ignore missing %}
					{% endfor %}
					{% endif %}
					<!-- End plugin template files -->


					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/modernizr.custom.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/underscore-min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/underscore.string.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/knockout.js') }}"></script>
					<!--<script type="text/javascript" src="{{ url_for('static', filename='js/lib/knockout-2.2.1.debug.js') }}"></script>-->
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/knockout.mapping-latest.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/babel.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/avltree.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/bootstrap/bootstrap.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/bootstrap/bootstrap-modalmanager.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/bootstrap/bootstrap-modal.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/bootstrap/bootstrap-slider.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.ui.core.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.ui.widget.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.ui.mouse.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.flot.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.iframe-transport.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.fileupload.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/jquery/jquery.slimscroll.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/sockjs-0.3.4.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/moment-with-locales.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/pusher.color.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/detectmobilebrowser.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/md5.min.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/lib/pnotify.min.js') }}"></script>


					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/appearance.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/connection.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/control.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/firstrun.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/gcode.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/files.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/loginstate.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/navigation.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/printerstate.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/settings.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/slicing.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/temperature.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/terminal.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/timelapse.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/users.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/viewmodels/log.js') }}"></script>


					{% for name, assets in assetPlugins.items() %}
					{% if "js" in assets %}
					{% for asset in assets["js"] %}
					<script type="text/javascript" src="{{ url_for('plugin_assets', name=name, filename=asset) }}"></script>
					{% endfor %}
					{% endif %}
					{% endfor %}

					<script type="text/javascript" src="{{ url_for('static', filename='js/app/dataupdater.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='js/app/helpers.js') }}"></script>

					<script type="text/javascript" src="{{ url_for('static', filename='js/app/main.js') }}"></script>
					<!-- /Include OctoPrint files -->

					<!-- Include i18n language files -->
					{% if g.locale != 'en' %}
					<script type="text/javascript" src="{{ url_for('static', filename='js/i18n/%s.js' % g.locale) }}"></script>
					{% endif %}
					<!-- /Include i18n language files -->

					<script type="text/javascript" src="{{ url_for('static', filename='gcodeviewer/js/ui.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='gcodeviewer/js/gCodeReader.js') }}"></script>
					<script type="text/javascript" src="{{ url_for('static', filename='gcodeviewer/js/renderer.js') }}"></script>

					<script src="{{ url_for('static', filename='js/lib/jscut/gl-matrix-2.2.0-min.js') }}"></script>
					<script src="{{ url_for('static', filename='js/lib/jscut/webgl-utils.js') }}"></script>
					<script src="{{ url_for('static', filename='js/lib/jscut/parseGcode.js') }}"></script>
					<script src="{{ url_for('static', filename='js/lib/jscut/RenderPath.js') }}"></script>

				
				</body>
			</html>
